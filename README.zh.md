# å¯¦ä½œä¸‹æ‹‰å¼é¸å–®å…ƒä»¶

ä¸åŒçš„å°ˆæ¡ˆä¸­ï¼Œæ™‚å¸¸æœƒæœ‰é‡è¤‡ä¸”å…·æœ‰æŒ‘æˆ°æ€§çš„åŠŸèƒ½éœ€è¦å¯¦ä½œã€‚å› æ­¤æƒ³é€éåœ¨å·¥ä½œä¸Šæˆ–æ˜¯ç¶²è·¯ä¸Šå°‹æ‰¾å€¼å¾—æŒ‘æˆ°çš„åŠŸèƒ½ä¾†é€²è¡Œç·´ç¿’/è‡¨æ‘¹/ç ”ç©¶ï¼Œå°‡ç¯„åœé™ç¸®åœ¨ä¸€å€‹åŠŸèƒ½è€Œä¸æ˜¯ä¸€æ•´å€‹å°ˆæ¡ˆï¼Œå¸Œæœ›è—‰ç”±æ›´å¤šçš„å°ç·´ç¿’ï¼Œä¾†æå‡å‰ç«¯çš„èƒ½åŠ›ã€‚é€™å€‹å°ˆæ¡ˆå¸Œæœ›å¯ä»¥ç·´ç¿’å¯¦ä½œä¸€å€‹ä¸‹æ‹‰å¼é¸å–®çš„å…±ç”¨å…ƒä»¶ï¼Œåƒè€ƒçš„åŸå‹æ˜¯ [React MUI](https://mui.com/) çš„ [Popover](https://mui.com/material-ui/api/popover/) å…ƒä»¶ï¼Œä¸‹é¢æ˜¯é€™é …æŒ‘æˆ°æœƒå®Œæˆçš„å¹¾é …é‡é»ï¼š

- âœ… ä½¿ç”¨ React Springï¼Œå®Œæˆä¸‹æ‹‰å¼é¸å–®å‹•ç•«
- âœ… ä½¿ç”¨ React Portalï¼Œå‹•æ…‹ç”¢ç”Ÿ DOM ç¯€é»ï¼Œä¸¦å°‡ä¸‹æ‹‰å¼é¸å–®å…ƒä»¶æ¸²æŸ“è‡³è©²ç¯€é»å…§
- âœ… å¯¦ä½œç•¶ä¸‹æ‹‰å¼é¸å–®é–‹å•Ÿæ™‚ï¼Œé»æ“ŠæŒ‰éˆ•æˆ–é¸å–®å¤–å´ï¼Œé—œé–‰ä¸‹æ‹‰å¼é¸å–®åŠŸèƒ½
- âœ… æä¾› AnchorOrigin è®Šæ•¸ï¼ŒæŒ‡å®šä¸‹æ‹‰å¼é¸å–®è¦å°é½ŠæŒ‰éˆ•ä¸­çš„å“ªå€‹ä½ç½®
- âœ… æä¾› TransformOrigin è®Šæ•¸ï¼ŒæŒ‡å®šè¦ä½¿ç”¨ä¸‹æ‹‰å¼é¸å–®çš„å“ªå€‹ä½ç½®ä½œç‚ºåŸé»ï¼Œä½œç‚ºå‹•ç•«ç‰¹æ•ˆçš„èµ·å§‹é»ä»¥åŠç”¨ä¾†å°é½ŠæŒ‰éˆ•åŸé»
- âœ… æ ¹æ“šæŒ‰éˆ•ä½ç½®ã€AnchorOriginã€TransformOriginï¼Œå°‡ä¸‹æ‹‰å¼é¸å–®é¡¯ç¤ºåœ¨æ­£ç¢ºçš„ä½ç½®ä¸Š
- âœ… å¯¦ä½œç•¶ä¸‹æ‹‰å¼é¸å–®é–‹å•Ÿæ™‚ï¼Œé–å®š Body æ²å‹•è¡Œç‚º

<div align="center">
  <image src="src/assets/images/demo.png" alt="demo" width="70%" />
</div>

## ğŸ“” Categories

- [Playground](#-playground)
- [ä½¿ç”¨æŠ€è¡“](#-technologies)
- [å°ˆæ¡ˆè¨­å®š](#%EF%B8%8F-jump-start)
- [DropdownMenu å…ƒä»¶ Props èˆ‡ä½¿ç”¨èªªæ˜](#-dropdownmenu-å…ƒä»¶-props-èˆ‡ä½¿ç”¨èªªæ˜)

## ğŸ‘¾ Playground

[Open in CodeSandbox](https://codesandbox.io/s/github/shuyang0129/woe-dropdown)

## ğŸ”¨ Technologies

å°ˆæ¡ˆä¸»è¦ä½¿ç”¨çš„æŠ€è¡“ï¼š

- React version: 18.2.0
- Typescript version: 4.9.5
- React Spring version: 9.1.7

## âš¡ï¸ Jump Start

è¦ä½¿ç”¨æ­¤å°ˆæ¡ˆè‡³æœ¬åœ°é–‹ç™¼ï¼Œå¯ä»¥ç…§ä¸‹æ–¹æ­¥é©Ÿï¼š

```bash
$ git clone git@github.com:shuyang0129/woe-dropdown.git
$ cd woe-dropdown
$ npm install
$ npm start
```

## ğŸ“– DropdownMenu å…ƒä»¶ Props èˆ‡ä½¿ç”¨èªªæ˜

```tsx
function App() {
  const [anchorElement, setAnchorElement] = useState<HTMLElement | null>(null)
  const isOpen = Boolean(anchorElement)

  const handleClick = (event: MouseEvent<HTMLElement>) => {
    setAnchorElement(isOpen ? null : event.currentTarget)
  }

  const handleClose = () => setAnchorElement(null)

  return (
    <Fragment>
      <ButtonToToggleDropdownMenu onClick={handleClick} />
      <DropdownMenu
        isOpen={isOpen}
        anchorElement={anchorElement}
        handleClose={handleClose}
        anchorOrigin={{ vertical: 'bottom', horizontal: 'right' }}
        transformOrigin={{ vertical: 'top', horizontal: 'right' }}
      >
        {/* DropdownMenuItems */}
      </DropdownMenu>
    </Fragment>
  )
}
```

é‡å°ä¸‹æ‹‰å¼é¸å–®å…ƒä»¶ `<DropdownMenu />` çš„ `Props` èªªæ˜ï¼š

<table>
    <thead>
        <tr>
            <th>Prop</th>
            <th>Type</th>
            <th>Default</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>children</td>
            <td><code>ReactNode</code></td>
            <td><code>undefined</code></td>
            <td>
                å‚³å…¥ä¸‹æ‹‰å¼é¸å–®çš„å…§å®¹
            </td>
        </tr>
        <tr>
            <td>anchorElement*</td>
            <td><code>HTMLElement | null</code></td>
            <td></td>
            <td>
                è§¸ç™¼é–‹å•Ÿä¸‹æ‹‰å¼é¸å–®çš„æŒ‰éˆ•
            </td>
        </tr>
        <tr>
            <td>isOpen*</td>
            <td><code>boolean</code></td>
            <td></td>
            <td>
                ä¸‹æ‹‰å¼é¸å–®é–‹å•Ÿç‹€æ…‹
            </td>
        </tr>
        <tr>
            <td>handleClose*</td>
            <td><code>() => void</code></td>
            <td></td>
            <td>
                é—œé–‰ä¸‹æ‹‰å¼é¸å–®çš„å‡½å¼
            </td>
        </tr>
        <tr>
            <td>anchorOrigin</td>
            <td>
                <code>{ horizontal: 'center' | 'left' | 'right' | number, vertical: 'bottom' | 'center' | 'top' | number }</code>
            </td>
            <td>
                <code>{ horizontal: 'left', vertical: 'bottom' }</code>
            </td>
            <td>æŒ‡å®šè§¸ç™¼æŒ‰éˆ•çš„åŸé»</td>
        </tr>
        <tr>
            <td>transformOrigin</td>
            <td>
                <code>{ horizontal: 'center' | 'left' | 'right' | number, vertical: 'bottom' | 'center' | 'top' | number }</code>
            </td>
            <td>
                <code>{ horizontal: 'left', vertical: 'top' }</code>
            </td>
            <td>æŒ‡å®šä¸‹æ‹‰å¼é¸å–®çš„åŸé»</td>
        </tr>
        <tr>
            <td>sx</td>
            <td><code>CSSProperties</code></td>
            <td><code>{}</code></td>
            <td>å®¢è£½åŒ–å…ƒä»¶æ¨£å¼</td>
        </tr>
        <tr>
            <td>disableScrollLock</td>
            <td><code>boolean</code></td>
            <td><code>false</code></td>
            <td>
                åœ¨ä¸‹æ‹‰å¼é¸å–®é–‹å•Ÿæ™‚é‡å°<code>Body</code>å»åšæ²å‹•è¡Œç‚ºçš„é–å®šï¼Œå‡è¨­å¸Œæœ›å¿½ç•¥æˆ–æ˜¯å®¢è£½åŒ–æ›´ç‚ºè¤‡é›œçš„é–å®šè¡Œç‚ºæ™‚ï¼Œå¯ä»¥é€éæ­¤<code>Prop</code>å°‡å…¶åŠŸèƒ½é—œé–‰
            </td>
        </tr>
    </tbody>
</table>
